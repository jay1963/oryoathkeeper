[{
    "id": "mattex-frontend",
    "match": {
      "methods": ["OPTIONS"],
      "url": "<https|http>://dev-api.mattex.com.hk<.*>"
    },
    "authenticators": [{
      "handler": "noop"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "noop"
    }
  },
  {
    "id": "no-need-token",
    "match": {
      "methods": ["GET", "POST"],
      "url": "<https|http>://dev-api.mattex.com.hk/<account|login|register|confirmation><.*>"
    },
    "authenticators": [{
      "handler": "noop"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "noop"
    }
  },
  {
    "id": "mattex-identify-api-rule",
    "match": {
      "url": "<https|http>://dev-api.mattex.com.hk/api/v1/<.*>",
      "methods": ["GET", "POST", "PUT", "PATCH", "DELETE"]
    },
    "authenticators": [{
      "handler": "jwt"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "cookie",
      "config": {
        "cookies": {
          "user": "{{ print .Subject }}",
          "user_id": "{{ print .Extra.uid }}",
          "domain": "{{ print .Extra.domain }}"
        }
      }
    }
  },
  {
    "id": "mattex-mmm-api-rule",
    "match": {
      "url": "<https|http>://dev-api.mattex.com.hk/mmm/api/v1/<.*>",
      "methods": ["GET", "POST", "PUT", "PATCH", "DELETE"]
    },
    "authenticators": [{
      "handler": "jwt",
      "config": {
        "required_scope": ["scope-a", "scope-b"]
      }
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "cookie",
      "config": {
        "cookies": {
          "user": "{{ print .Subject }}",
          "user_id": "{{ print .Extra.uid }}",
          "domain": "{{ print .Extra.domain }}"
        }
      }
    }
  },
  {
    "id": "mattex-supplier-api-rule",
    "match": {
      "url": "<https|http>://dev-api.mattex.com.hk/supplier/api/v1/<.*>",
      "methods": ["GET", "POST", "PUT", "PATCH", "DELETE"]
    },
    "authenticators": [{
      "handler": "jwt",
      "config": {
        "required_scope": ["scope-a", "scope-b"]
      }
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "cookie",
      "config": {
        "cookies": {
          "user": "{{ print .Subject }}",
          "user_id": "{{ print .Extra.uid }}",
          "domain": "{{ print .Extra.domain }}"
        }
      }
    }
  },
  {
    "id": "operation-mattex-tms-rule",
    "match": {
      "url": "<https|http>://dev-tms.operation.mattex.com.hk<.*>",
      "methods": ["GET", "POST", "PUT", "DELETE", "PATCH"]
    },
    "authenticators": [{
      "handler": "anonymous"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "noop"
    }
  },
  {
    "id": "dev-auth-api-rule",
    "match": {
      "url": "<https|http>://dev-api.auth.mattex.com.hk<.*>",
      "methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD"]
    },
    "authenticators": [{
      "handler": "anonymous"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "noop"
    }
  },
  {
    "id": "oathkeeper-api-rule",
    "match": {
      "url": "<https|http>://dev-api.mattex.com.hk/oathkeeper/<.*>",
      "methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD"]
    },
    "authenticators": [{
      "handler": "anonymous"
    }],
    "authorizer": {
      "handler": "allow"
    },
    "mutator": {
      "handler": "noop"
    }
  }
]
